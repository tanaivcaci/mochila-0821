if (self.CavalryLogger) { CavalryLogger.start_js(["l+0EEcR"]); }

__d("CookieConsentBlocklistedHrefs",[],(function(a,b,c,d,e,f){e.exports={hrefs:["/about/basics","/privacy/explanation","/ads/settings","/help/111814505650678","/help/1561485474074139","/help/568137493302217","/help/769828729705201","/help/cookies","/policies/cookies","/policy/cookies"]}}),null);
__d("Typeahead",["CSS","DOM","MParent","MViewport","Vector","createDeprecatedProperties","eventsMixinDeprecated","setTimeoutAcrossTransitions","uniqueID"],(function(a,b,c,d,e,f,g){a=function(){function a(b,e){var f=this;this.showResults=function(a){f.invoke("render_start");var b={show:a};b=f.invoke("show",b);if(f._typeObjects&&f._typeObjectsOrder){var e={};for(var g=0;g<a.length;g++){var h=a[g].firstElementChild?a[g].firstElementChild.getAttribute("renderType"):null;if(!h)continue;h in e||(e[h]=[]);e[h].push(a[g])}g=[];var i=f._typeObjectsOrder,j=f._typeObjects;if(i)for(var k=0;k<i.length;k++){h=i[k];var l=e[h];if(l){var m=document.createElement("div");d("DOM").setContent(m,j[h].xhp);g.push(m.firstChild);g.push.apply(g,l)}}d("DOM").setContent(f._root,g)}else d("DOM").setContent(f._root,a);f._display=d("DOM").scry(f._root,"a","typeahead-result");if(f._display.length&&!b.getPrevented()){f._changeHighlight(Number.NEGATIVE_INFINITY);m=c("Vector").getDim(f._hardpoint);m.x=0;m.setPos(f._root);f._root.parentNode!==f._hardpoint&&f._hardpoint.appendChild(f._root);d("DOM").show(f._root);f._control.setAttribute("aria-expanded","true")}else f.hide(),d("DOM").setContent(f._root,null);f._refreshViewport()};this.waitForResults=function(){f.hide()};this.handleEvent=function(a){var b=a.getType();if(!b)return;f.invoke(b,a);if(f._stop||a.getPrevented())return;b=="blur"?(f._hasFocus=!1,c("setTimeoutAcrossTransitions")(function(){this._hasFocus||this.hide()}.bind(f),f.getBlurDefer())):b=="focus"?f._hasFocus=!0:f._update(a)};this._handleListEvent=function(a){a=a.getType();a==="blur"?(f._hasFocus=!1,c("setTimeoutAcrossTransitions")(function(){this._hasFocus||this.hide()}.bind(f),f.getBlurDefer())):a==="focus"&&(f._hasFocus=!0)};this._handleRootTouch=function(a){if(a.getType()==="touchstart"){var b=a.getTouch(),d=b.pageX;b=b.pageY;f._rootTouchPos={x:d,y:b};d=a.getNode("tag:a");d instanceof HTMLAnchorElement&&(f._rootTouchLink=d);b=f._focus;if(b){d=f._display[b];d&&(c("CSS").conditionClass(d,"focused",!1),f._focus=-1)}}else if(f._rootTouchPos){b=f._rootTouchLink;if(b&&b===a.getNode("tag:a")){d=a.getTouch();var e=d.pageX;d=d.pageY;var g=f._rootTouchPos,h=3;g&&Math.abs(e-g.x)<h&&Math.abs(d-g.y)<h&&f._choose(b,null)}delete f._rootTouchLink;delete f._rootTouchPos}a.getType()==="touchend"&&a.prevent()};this._hardpoint=b;this._control=e||d("DOM").find(b,"input");e=c("uniqueID")();this._control.setAttribute("aria-owns",e);this._root=d("DOM").create("div",{className:"jx-typeahead-results",sigil:"jx-typeahead-results",role:"listbox",id:e,tabIndex:-1});this._display=[];this._focus=-1;this._listener=d("DOM").listen(this._control,["focus","blur","keypress","keydown","input"],null,this.handleEvent.bind(this));this._touchListener=d("DOM").listen(this._root,["touchstart","touchend","touchcancel"],"tag:a",this._handleRootTouch.bind(this));this._listFocusListener=d("DOM").listen(this._root,["focus","blur"],null,this._handleListEvent.bind(this));b.id&&(a._instances[b.id]=this)}var b=a.prototype;b.start=function(){this.invoke("start")};b.setTypeObjects=function(a){this._typeObjects=a};b.setTypeObjectsOrder=function(a){this._typeObjectsOrder=a};b.setDatasource=function(a){this._datasource&&(this._datasource.unbindFromTypeahead(),this._waitingListener&&this._waitingListener.remove(),this._readyListener&&this._readyListener.remove()),this._waitingListener=a.listen("waiting",this.waitForResults.bind(this)),this._readyListener=a.listen("resultsready",this.showResults.bind(this)),a.bindToTypeahead(this),this._datasource=a};b.getDatasource=function(){return this._datasource};b.getTypeaheadType=function(){return"m_legacy"};b.setInputNode=function(a){this._control=a;return this};b.hide=function(){this._changeHighlight(Number.NEGATIVE_INFINITY),this._display=[],this._root&&d("DOM").hide(this._root),this._control.setAttribute("aria-expanded","false"),this._control.setAttribute("aria-activedescendant",""),this.invoke("hide",{hasFocus:this._hasFocus})};b.refresh=function(){this._refreshViewport();if(this._stop)return;this._value=this._control.value;this.invoke("update",this._value);this.invoke("change",this._value,this._control)};b._changeHighlight=function(a){a=Math.min(Math.max(-1,this._focus+a),this._display.length-1);this.getAllowNullSelection()||(a=Math.max(0,a));var b=this._focus,e=null,f=null;b>=0&&b<this._display.length&&(c("CSS").conditionClass(this._display[b],"focused",!1),e=d("MParent").bySigil(this._display[b],"jx-result"));this._focus=a;b=this._display[this._focus];a="";b&&(c("CSS").conditionClass(b,"focused",!0),f=d("MParent").bySigil(b,"jx-result"));e&&e.setAttribute("aria-selected","false");f&&(a=f.id,f.setAttribute("aria-selected","true"));this._control.setAttribute("aria-activedescendant",a);return!0};b._choose=function(a,b){b=this.invoke("choose",a,b);if(b.getPrevented())return;this._control.value=a.name;this.hide()};b.clear=function(a){a===void 0&&(a=!1),this._control.value="",this._value="",this.invoke("clear"),a&&this.hide()};b.enable=function(){this._control.disabled=!1,this._stop=!1};b.disable=function(){this._control.blur(),this._control.disabled=!0,this._stop=!0};b.submit=function(){var a=this._focus;if(a>=0&&this._display[a]){this._choose(this._display[a],a);return!0}else{a=this.invoke("query",this._control.value);if(a.getPrevented())return!0}return!1};b.setValue=function(a){this._control.value=a};b.getValue=function(){return this._control.value};b._refreshViewport=function(){var a=this.invoke("refresh-viewport");if(!a.getPrevented()){a=this._display&&this._display.length;if(a&&!this._heightConstraint){var b=c("Vector").getPos(this._root).y,e=c("Vector").getDim(this._root).y,f=d("MViewport").getBoundingRect().height;if(b+e>f){f=d("MViewport").getHeaderHeight()+b+e;this._heightConstraint=d("MViewport").addMinHeightConstraint(f)}}else this._heightConstraint&&!a&&(this._heightConstraint.release(),this._heightConstraint=null)}this.invoke("rendered")};b._update=function(a){var b=a&&a.getSpecialKey();if(b&&a.getType()=="keydown")switch(b){case"up":this._display.length&&this._changeHighlight(-1)&&a.prevent();break;case"down":this._display.length&&this._changeHighlight(1)&&a.prevent();break;case"return":if(this.submit()){a.prevent();return}break;case"esc":this._display.length&&this.getAllowNullSelection()&&(this.hide(),a.prevent());break;case"tab":return}c("setTimeoutAcrossTransitions")(function(){if(this._value==this._control.value)return;this.refresh()}.bind(this),0)};b.removeListener=function(){this._listener&&this._listener.remove(),this._listFocusListener&&this._listFocusListener.remove()};a.getInstance=function(b){return a._instances[b]};return a}();a._instances={};c("eventsMixinDeprecated")(a,["choose","query","start","change","show","focus","blur","keypressed","keypress","keydown","input","hide","clear","render_start","rendered","update","scroll","refresh-viewport"]);c("createDeprecatedProperties")(a,{allowNullSelection:!0,normalizer:null,blurDefer:0});g["default"]=a}),98);
__d("MTypeaheadEmailDomainSource",["MTypeaheadStaticSource"],(function(a,b,c,d,e,f,g){var h=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.$MTypeaheadEmailDomainSource1="";return b}var c=b.prototype;c.getQueryExtractor=function(){var a=this;return function(b){b=b.toLowerCase().split("@");var c=b[0];b=b[1];if(b==null)return"";a.$MTypeaheadEmailDomainSource1=c;return"@"+b}};c.getSortHandler=function(){return function(a,b,c){b.splice(h,b.length-h)}};c.createNode=function(b){return a.prototype.createNode.call(this,babelHelpers["extends"]({},b,{name:""+this.$MTypeaheadEmailDomainSource1+b.name,display:""+this.$MTypeaheadEmailDomainSource1+b.name,resultReturnLimit:""+b.resultReturnLimit}))};return b}(c("MTypeaheadStaticSource"));g["default"]=a}),98);
__d("XRefererFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/common/referer_frame.php",{})}),null);
__d("getRequestConstUri",["ConstUriUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ConstUriUtils").getUri(window.location.href);if(a==null)throw c("unrecoverableViolation")("Cannot create ConstUriImpl of current request","comet_infra");return a}g["default"]=a}),98);
__d("CookieConsentActionHandler",["CookieConsentBlocklistedHrefs","Parent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a;if(!this.hasVisibleCookieBanner())return!0;var b=d("Parent").byAttribute(a,"data-cookiebanner");if(b){b=b.getAttribute("data-cookiebanner");switch(b){case"close_button":return!1;case"banner":return!0}}b=d("Parent").byAttribute(a,"data-nocookies");if(b)return!0;a.tagName.toLowerCase()!=="a"&&(a=d("Parent").byTag(a,"a"));if(a instanceof HTMLAnchorElement&&typeof a.href==="string"){b=a.href;for(var a=0;a<this.blocklistedHrefs.length;a++)if(b.indexOf(this.blocklistedHrefs[a])>-1)return!0}return!1}function b(){var a=document.querySelectorAll('[data-cookiebanner="banner"]');return Array.from(a).some(function(a){return window.getComputedStyle(a).display!=="none"})}g.isClickNotConsideredConsent=a;g.blocklistedHrefs=c("CookieConsentBlocklistedHrefs").hrefs;g.hasVisibleCookieBanner=b}),98);
__d("routeBuilderUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.split("/");return a.filter(function(a){return a!==""}).map(function(a){var b=a.split(/{|}/);if(b.length<3)return{isToken:!1,part:a};else{a=b[0];var c=b[1];b=b[2];var d=c[0]==="?",e=c[d?1:0]==="*";c=c.substring((d?1:0)+(e?1:0));return{isToken:!0,optional:d,prefix:a,suffix:b,token:c}}})}f.getPathParts=a}),66);
__d("jsRouteBuilder",["ConstUriUtils","FBLogger","routeBuilderUtils"],(function(a,b,c,d,e,f,g){"use strict";var h="#";function a(a,b,e,f,g){g===void 0&&(g=!1);var i=d("routeBuilderUtils").getPathParts(a);function j(j){try{var k=f!=null?babelHelpers["extends"]({},f,j):j,l={};j="";var m=!1;j=i.reduce(function(a,c){if(!c.isToken)return a+"/"+c.part;else{var d,e=c.optional,f=c.prefix,g=c.suffix;c=c.token;if(e&&m)return a;d=(d=k[c])!=null?d:b[c];if(d==null&&e){m=!0;return a}if(d==null)throw new Error("Missing required template parameter: "+c);if(d==="")throw new Error("Required template parameter is an empty string: "+c);l[c]=!0;return a+"/"+f+d+g}},"");a.slice(-1)==="/"&&(j+="/");j===""&&(j="/");var n=d("ConstUriUtils").getUri(j);for(var o in k){var p=k[o];!l[o]&&p!=null&&n!=null&&(e!=null&&e.has(o)?p!==!1&&(n=n.addQueryParam(o,null)):n=n.addQueryParam(o,p))}return[n,j]}catch(b){p=b==null?void 0:b.message;n=c("FBLogger")("JSRouteBuilder").blameToPreviousFrame();g&&(n=n.blameToPreviousFrame());n.mustfix("Failed building URI for base path: %s message: %s",a,p);return[null,h]}}return{buildUri:function(a){a=(a=j(a)[0])!=null?a:d("ConstUriUtils").getUri(h);if(a==null)throw new Error("Not even the fallback URL parsed validly!");return a},buildUriNullable:function(a){return j(a)[0]},buildURLStringDEPRECATED:function(a){a=j(a);var b=a[0];a=a[1];return(b=b==null?void 0:b.toString())!=null?b:a},buildURL:function(a){a=j(a);var b=a[0];a=a[1];return(b=b==null?void 0:b.toString())!=null?b:a}}}g["default"]=a}),98);
__d("CSTXCookieRecordConsentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/cookie/consent/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("CookieConsentDialogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746397");c=b("FalcoLoggerInternal").create("cookie_consent_dialog",a);e.exports=c}),null);
__d("DeferredCookie",["CSTXCookieRecordConsentControllerRouteBuilder","Cookie","CookieConsent","CookieConsentDialogFalcoEvent","SubscriptionList","URLSearchParams","cr:1069930","cr:1083116","cr:1083117","cr:1697455","flattenPHPQueryData","killswitch","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!0,j,k=!1,l=new Map(),m={addToQueue:function(a,b,e,f,g,i,j){if(d("CookieConsent").hasConsent(1)){g?c("Cookie").setWithoutChecksIfFirstPartyContext(a,b,e,f,j):c("Cookie").setWithoutChecks(a,b,e,f,j);return}if(h.has(a))return;h.set(a,{name:a,value:b,nMilliSecs:e,path:f,firstPartyOnly:g,secure:j});i&&m.addDefaultInteractionListener()},flushAllCookiesWithoutRecordingConsentDONOTCALLBEFORECONSENT:function(){h.forEach(function(a,b){a.firstPartyOnly?c("Cookie").setWithoutChecksIfFirstPartyContext(a.name,a.value,a.nMilliSecs,a.path,a.secure):c("Cookie").setWithoutChecks(a.name,a.value,a.nMilliSecs,a.path,a.secure)});if(c("killswitch")("DEFERREDCOOKIE_EMPTY_COOKIES_BEFORE_CALLBACK")){d("CookieConsent").setConsented();for(var a=l,b=Array.isArray(a),e=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f[1].fireCallbacks()}h.clear()}else{h.clear();d("CookieConsent").setConsented();for(var f=l,e=Array.isArray(f),b=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(b>=f.length)break;a=f[b++]}else{b=f.next();if(b.done)break;a=b.value}a=a;a[1].fireCallbacks()}}m.removeDefaultInteractionListener()},flushAllCookiesINTERNALONLY:function(a,d,e,f,g){a===void 0&&(a=!1);d===void 0&&(d=!1);f===void 0&&(f=!1);m.flushAllCookiesWithoutRecordingConsentDONOTCALLBEFORECONSENT();a||c("CookieConsentDialogFalcoEvent").log(function(){return{event:"implicit_consent_given"}});var h={accept_consent:a};e!=null&&(e=Object.fromEntries(e),h={accept_consent:a,optouts:e});a=c("flattenPHPQueryData")(h);if(!k){e=c("CSTXCookieRecordConsentControllerRouteBuilder").buildUri({});h=new(c("URLSearchParams"))(location.search).get("ig_3p_controls");if(h==="on"){h=e.addQueryParam("ig_3p_controls","on");e=(h=h)!=null?h:e}k=!0;var i=function(){g&&g();d&&location.reload();if(f){var a=document.getElementsByTagName("iframe");a.length>0&&location.reload()}};b("cr:1069930")!=null?c("promiseDone")(b("cr:1069930")(e.toString(),{data:a,method:"POST"}),function(){return i()},function(a){b("cr:1083117")&&b("cr:1083117")("Cookie consent has not been set successfully: "+a.errorMsg,"comet_infra")}):b("cr:1083116")!=null&&new(b("cr:1083116"))(e.toString()).setData(a).setHandler(function(){return i()}).send()}},removeDefaultInteractionListener:function(){i=!1,j&&(window.removeEventListener?window.removeEventListener("click",j,!0):document.detachEvent&&document.detachEvent("onclick",j),j=null)},addDefaultInteractionListener:function(a){i&&(i=!1,j=a!=null?a:m.baseInteractionHandler.bind(m),m._attachDefaultHandler())},setDefaultInteractionListener:function(a){m.removeDefaultInteractionListener(),j=a,m._attachDefaultHandler()},registerCallbackOnCookieFlush:function(a,b){d("CookieConsent").hasConsent(a)?b():(l.has(a)||l.set(a,new(c("SubscriptionList"))()),c("nullthrows")(l.get(a)).add(b))},baseInteractionHandler:function(a){var d=a.target;if(!(d instanceof HTMLElement))return;if(a instanceof MouseEvent&&!m.isValidClick(a))return;b("cr:1697455")!=null&&!b("cr:1697455").isClickNotConsideredConsent(d)&&(c("CookieConsentDialogFalcoEvent").log(function(){return{event:"base_interaction_implicit_consent_given"}}),m.flushAllCookiesINTERNALONLY(!1))},isValidClick:function(a){return a.which===void 0?!0:a.which==1},canEmbedThirdPartyPixel:function(){return d("CookieConsent").isCookiesBlocked()||!d("CookieConsent").hasConsent(2)?!1:h.size===0},_attachDefaultHandler:function(){window.addEventListener?window.addEventListener("click",c("nullthrows")(j),!0):document.attachEvent&&document.attachEvent("onclick",c("nullthrows")(j))}};a=m;g["default"]=a}),98);
__d("ControlledReferer",["Bootloader","DeferredCookie","XRefererFrameController","getRequestConstUri","isMessengerDotComURI","isOculusDotComURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f,g){function h(a,b,d){if(!c("DeferredCookie").canEmbedThirdPartyPixel()){c("Bootloader").loadModules(["ODS"],function(a){a.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var e=!1;function f(){if(e)return;var c=a.contentWindow.location.pathname;if(c!=="/intern/common/referer_frame.php"&&c!=="/common/referer_frame.php")return;e=!0;a.contentWindow.document.body.style.margin=0;b()}var g;c("isMessengerDotComURI")(c("getRequestConstUri")())?g=c("XRefererFrameController").getURIBuilder().getURI().toString():c("isOculusDotComURI")(c("getRequestConstUri")())?g="/common/referer_frame.php":!c("lowerFacebookDomain").isValidDocumentDomain()?g="/intern/common/referer_frame.php":g=c("XRefererFrameController").getURIBuilder().getURI().toString();d==null&&c("isWorkplaceDotComURI")(c("getRequestConstUri")())&&(d="workplace");d&&(g+="?fb_source="+d);a.onload=f;a.src=g}function a(a,b,c){h(a,function(){a.contentWindow.document.body.innerHTML=b},c)}g.shouldUseFacebookReferer=h;g.useFacebookRefererHtml=a}),98);